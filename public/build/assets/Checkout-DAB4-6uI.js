import{r as p,c as f,w as x,a as b,b as t,d as y,h as w,g as u,o,F as k,s as g,t as r,k as v,m as _,x as d}from"./app-Ct_mwAxD.js";import{S as h}from"./SiteLayout-DEC0OJpP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"mx-auto max-w-3xl px-4 py-8"},B={class:"rounded-xl border bg-white p-6"},S={class:"divide-y"},j={class:"font-medium"},D={class:"text-sm text-gray-600"},N={class:"mt-4 flex items-center justify-between"},q={class:"text-lg font-bold"},A={class:"mt-6"},T={__name:"Checkout",props:{cart:{type:Object,required:!0},total:{type:Number,required:!0}},setup(m){const l=m,a=p("");function i(n){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(Number(n||0))}function c(){if(!a.value||a.value.trim().length<5)return window.Swal?.fire({icon:"warning",title:"Alamat belum lengkap",text:"Minimal 5 karakter."});d.post(route("checkout.store"),{address_text:a.value},{onSuccess:()=>{window.Swal?.fire({icon:"success",title:"Pesanan dibuat!",timer:1400,showConfirmButton:!1}),d.visit(route("orders.index"))},onError:n=>{window.Swal?.fire({icon:"error",title:"Checkout gagal",text:Object.values(n)[0]||"Coba lagi."})}})}return(n,e)=>(o(),f(h,null,{default:x(()=>[b(y(w),{title:"Checkout"}),t("section",C,[e[5]||(e[5]=t("h1",{class:"mb-4 text-2xl font-semibold"},"Checkout",-1)),t("div",B,[e[3]||(e[3]=t("h2",{class:"mb-3 font-medium"},"Ringkasan Keranjang",-1)),t("div",S,[(o(!0),u(k,null,g(l.cart.items,s=>(o(),u("div",{key:s.id,class:"flex items-center justify-between py-3"},[t("div",null,[t("p",j,r(s.product.name),1),t("p",D,"x"+r(s.qty),1)]),t("p",null,r(i(s.qty*s.product.price)),1)]))),128))]),t("div",N,[e[1]||(e[1]=t("span",{class:"font-semibold"},"Total",-1)),t("span",q,r(i(l.total)),1)]),t("div",A,[e[2]||(e[2]=t("label",{class:"mb-1 block text-sm font-medium"},"Alamat Pengiriman",-1)),v(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),rows:"4",placeholder:"Tuliskan alamat lengkap Anda…",class:"w-full rounded-md border px-3 py-2"},null,512),[[_,a.value]])]),t("button",{class:"btn-primary mt-6 w-full",onClick:c}," Buat Pesanan "),e[4]||(e[4]=t("p",{class:"mt-2 text-center text-xs text-gray-500"}," Dengan menekan “Buat Pesanan”, Anda menyetujui syarat & ketentuan yang berlaku. ",-1))])])]),_:1}))}};export{T as default};
